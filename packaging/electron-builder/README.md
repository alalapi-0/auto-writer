# Electron Builder 干跑配置说明 <!-- 中文说明：标题描述文档作用 -->
本目录提供 Electron Builder 的最小化配置模板，默认不产出任何二进制文件。 <!-- 中文说明：概述并强调无产物策略 -->
<!-- 中文说明：段落间隔 -->
## 本地验证配置 <!-- 中文说明：章节标题 -->
在本地仅校验配置解析时，可运行： <!-- 中文说明：提示读者用途 -->
```bash <!-- 中文说明：代码块开始 -->
pnpm install <!-- 中文说明：安装依赖占位命令 -->
pnpm exec electron-builder --config packaging/electron-builder/electron-builder.yml --dry-run <!-- 中文说明：以干跑模式校验配置，不生成产物 -->
``` <!-- 中文说明：代码块结束 -->
上述命令仅验证配置语法，`--dry-run` 会跳过实际打包阶段。 <!-- 中文说明：解释命令效果 -->
<!-- 中文说明：段落间隔 -->
## CI 干跑约定 <!-- 中文说明：章节标题 -->
GitHub Actions 工作流会使用 `electron-builder --config ... --dry-run` 检查配置有效性，并禁止上传任何制品。 <!-- 中文说明：说明 CI 行为 -->
如需在私有仓库执行真实打包，应在独立环境中设置以下环境变量： <!-- 中文说明：提示私有仓库配置 -->
- `CSC_LINK`：证书文件地址或 Base64 内容。 <!-- 中文说明：列出签名相关占位变量 -->
- `CSC_KEY_PASSWORD`：证书密码。 <!-- 中文说明：列出密码变量 -->
- `APPLE_ID`、`APPLE_APP_SPECIFIC_PASSWORD`：macOS notarize 所需凭据。 <!-- 中文说明：列出 macOS 凭据 -->
这些变量不得以明文提交，应通过仓库机密或本地环境变量注入。 <!-- 中文说明：强调安全性 -->
<!-- 中文说明：段落间隔 -->
## 独立仓库开启真实打包步骤 <!-- 中文说明：章节标题 -->
1. 在私有仓库中添加上述环境变量。 <!-- 中文说明：步骤一 -->
2. 将 `mac.target`、`win.target`、`linux.target` 配置为实际需要的制品格式。 <!-- 中文说明：步骤二 -->
3. 去除 `publish: never`，改为所需的发布目标，或保留手动上传策略。 <!-- 中文说明：步骤三 -->
4. 根据平台需求更新签名证书与图标路径。 <!-- 中文说明：步骤四 -->
5. 在确认配置后再执行 `electron-builder` 常规打包命令。 <!-- 中文说明：步骤五 -->
